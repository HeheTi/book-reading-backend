openapi: '3.1.0'
info:
  title: Book Reading API doks
  description: The API for the Book Reading project
  version: 1.0.0
servers:
  - url: https://book-reading-5q3p.onrender.com/api
paths:
  /users/registration:
    post:
      tags:
        - Auth
      summary: Register a new user
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RegisterCredentials'
        required: true
      responses:
        '200':
          description: User registration successful
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '400':
          description: Invalid request body
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InfoMessage'
              example:
                message: Validation error's description
        '409':
          description: Conflict
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InfoMessage'
              example:
                message: Error's description
components:
  schemas:
    RegisterCredentials:
      required:
        - name
        - email
        - password
        - repeatPassword
      type: object
      properties:
        name:
          $ref: '#/components/schemas/UserName'
        email:
          $ref: '#/components/schemas/Email'
        password:
          $ref: '#/components/schemas/Password'
        repeatPassword:
          $ref: '#/components/schemas/Password'
    Password:
      minLength: 6
      type: string
      description: User's password
      example: qwerty123
    UserName:
      maxLength: 50
      minLength: 2
      type: string
      description: User's name
      example: UserName
    Email:
      type: string
      description: User's email
      format: email
      example: UserName@mail.com
    User:
      type: object
      properties:
        name:
          $ref: '#/components/schemas/UserName'
        email:
          $ref: '#/components/schemas/Email'
    InfoMessage:
      type: object
      properties:
        message:
          type: string
